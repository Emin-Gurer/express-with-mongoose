<%- layout('layout/boilerplate.ejs') %>
<main class="container-fluid">
  <div class="col-md-6 offset-md-3 col-xl-4 offset-xl-4 mb-3">
    <% if(message.length != 0) {%>
    <div class="alert alert-success text-center" role="alert">
      <%= message %>
    </div>
    <% } %>
    <h1 class="text-center text-white"><%= store.name %></h1>
    <ul class="list-group">
      <li class="list-group-item">Location: <%= store.location %></li>
      <li class="list-group-item">Email: <%= store.email %></li>
    </ul>
  </div>
  <div class="product__list">
    <% for(let product of products) { %>
    <div class="product__item">
      <div class="wrapper">
        <div class="product__image__container">
          <img
            class="product__image"
            src="<%= product.image %>"
            alt="product image"
          />
        </div>
        <div class="product__body">
          <div class="text-black h5 text-center"><%= product.name %></div>
          <span class="product__text">Category: <%= product.category %></span>
          <span class="product__text">Price: <%= product.price %> $</span>
          <span class="product__text">Store: <%= product.store.name %></span>
        </div>
        <div class="button-group d-flex justify-content-evenly">
          <a class="btn btn-primary" href="/products/id=<%= product.id %>"
            ><span class="bi bi-list-columns-reverse"></span
          ></a>
          <a
            href="/products/id=<%= product.id %>/update"
            class="btn btn-warning mx-2"
            ><span class="bi bi-pencil-square"></span
          ></a>
          <form
            class="d-block"
            action="/products/id=<%= product.id %>/delete?_method=DELETE"
            method="POST"
          >
            <button class="btn btn-danger">
              <span class="bi bi-trash"></span>
            </button>
          </form>
        </div>
      </div>
    </div>
    <% } %>
  </div>
</main>
