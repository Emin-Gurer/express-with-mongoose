<%- layout('layout/boilerplate.ejs') %>
<main class="container-sm pt-3">
  <h1 class="text-center"><%= product.name %></h1>
  <div class="col-6 offset-3 mb-3">
    <img class="img-fluid" src="<%= product.image %>" alt="product image">
  <form
    action="/products/id=<%= product._id %>/update?_method=PUT"
    method="POST" novalidate class="needs-validation"
  >
    <label for="name" class="form-label">Name:</label>
    <input
      class="form-control"
      type="text"
      name="name"
      id="name"
      placeholder="Name"
      value="<%= product.name %>"
      required
    />
    <label for="price" class="form-label">Price:</label>
    <input
      class="form-control"
      type="number"
      step="0.1"
      name="price"
      id="price"
      placeholder="Price"
      value="<%= product.price %>"
      required
    />
    <label class="form-label" for="image">Image URL:</label>
    <input
      class="form-control"
      type="text"
      name="image"
      id="image"
      placeholder="Image URL"
      value="<%= product.image %>"
      required
    />
    <label for="category" class="form-label">Category:</label>
    <select name="category" id="category" class="form-select" required>
      <% for(category of categories){ %>
        <option value="<%= category %>" <%= product.category === category ? 'selected' : '' %> ><%= category %></option>
      <% } %> 
    </select>
    <label class="form-label" for="store">Store:</label>
    <select name="store" id="store" class="form-select" required>
      <% for(store of stores){ %>
      <option value="<%= store.id %>" <%= product.store === store.id ? 'selected' : '' %>><%= store.name %></option>
      <% } %>
    </select>
    <button class="btn btn-success mt-2"><i class="bi bi-check-square me-1"></i>Save</button>
    <a href="/" class="btn btn-danger mt-2"><i class="bi bi-x-square me-1"></i>Cancel</a>
  </form>
</div>
</main>